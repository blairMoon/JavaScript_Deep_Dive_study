# 06장. 데이터 타입

데이터 타입이란 값의 종류를 뜻한다.
원시 타입과 객체 타입으로 분류된다.

> - 원시 타입 : 숫자number 타입, 문자열string 타입, 불리언boolean 타입,  
>   undefined 타입, null 타입, 심벌symbol 타입
> - 객체 타입 : 객체, 함수, 배열 등

타입에 따라 확보해야 할 메모리 공간의 크기, 메모리에 저장되는 2진수, 읽어 들여 해석하는 방법이 다르다.

## 6.1 숫자 타입

ECMAScript 사양에 따르면 숫자 타입의 값은 배정밀도 64비트 부동소수점 형식을 따른다.

> [부동소수점 추가 설명1](https://ko.wikipedia.org/wiki/%EB%B6%80%EB%8F%99%EC%86%8C%EC%88%98%EC%A0%90)  
> [부동소수점 추가 설명2](https://aeunhi99.tistory.com/323)

즉, 모든 수를 실수로 처리하며, 정수만 표현하기 위한 데이터 타입은 존재하지 않는다.

```javascript
//예제1

var integer = 10; // 정수
var double = 10.12; // 실수
var negative = -20; // 음의 정수

// 모두 숫자 타입이다.
typeof integer; // number
typeof negative; // number
typeof double; // number

//예제2

var binary = 0b01000001; // 2진수
var octal = 0o101; // 8진수
var hex = 0x41; // 16진수

//표기법만 다를 뿐 모두 같은 값
console.log(binary); // 65
console.log(octal); // 65
console.log(hex); // 65
console.log(binary === octal); // true
console.log(octal === hex); // true
```

숫자 타입은 세 가지 특별한 값을 표현 가능하다.

- Infinity : 양의 무한대.
- -Infinity : 음의 무한대.
- NaN : 산술 연산 불가(not-a-number)

세 값 모두 대소문자 구별에 유의해야 한다. NAN, Nan, nan 등은 값이 아닌 식별자로 해석한다.

---

## 6.2 문자열 타입

0개 이상의 16비트 유니코드 문자(UTF-16)의 집합.

작은따옴표(''), 큰따옴표(""), 백틱(``)으로 텍스트를 감싼다.

> 다른 타입과 달리 문자열을 따옴표로 감싸는 이유는 키워드나 식별자 같은 토큰과 구별하기 위해서다.  
> 따옴표로 문자열을 감싸지 않는다면, 스페이스와 같은 공백 문자도 포함시킬 수 없다.

변경 불가능한 값immutable value이므로, 문자열이 생성되면 그 문자열을 변경할 수 없다.

---

## 6.3 템플릿 리터럴

ES6부터 도입된 새로운 문자열 표기법.  
런타임 시 일반 문자열로 변환되어 처리된다.  
백틱(``)을 사용해 표현한다.

### 6.3.1 멀티라인 문자열

일반 문자열 내에서 줄바꿈(개행)을 표현하기 위해서는 백슬래시(\)로 시작하는 이스케이프 시퀀스를 사용해야 한다.

> 이스케이프 시퀀스의 일반적인 예
>
> 1. \': 작은 따옴표
> 2. \": 큰 따옴표
> 3. \\: 역슬래시
> 4. \n: 개행(LF, Line Feed) 다음 행으로 이동
> 5. \t: 수평 탭
> 6. \r: 개행(CR, Carriage Return) 커서를 처음으로 이동
> 7. \b: 백스페이스
> 8. \f: 폼 피드(Form Feed) 프린터로 출력할 경우 다음 페이지의 시작 지점으로 이동
> 9. \uXXXX: 유니코드 코드 포인트 (XXXX는 16진수 코드)

- 라인 피드와 캐리지 리턴  
  과거 타자기 커서를 제어하는 방식에서 비롯돼 초창기 컴퓨터의 개행을 위해 \n(라인 피드) \r(캐리지 리턴) 모두 사용했다. (CRLF(\r\n))  
   자바스크립트에서는 일반적으로 \n 을 사용해 개행한다.

템플릿 리터럴 내에서는 이스케이프 시퀀스를 사용하지 않고도 줄바꿈이 허용되며, 모든 공백도 그대로 적용된다.

```javascript
// 이스케이프 시퀀스를 사용한 경우
var template = '<ul>\n\t<li><a href="#">Home</a></li>\n</ul>';

// 템플릿 리터럴을 사용한 경우
var template = `<ul>
 <li><a href="#">Home</a></li>
</ul>
`;
```

> 출력결과
>
> <ul>   
>  <li><a href="#">Home</a></li>   
> </ul>

출력결과는 두 경우 모두 같다.

### 6.3.2 표현식 삽입

문자열은 연산자 + 를 사용해 연결한다.

```javascript
var first = "Ung-mo";
var last = "Lee";

console.log("My name is " + first + " " + last + "."); // My name is Ung-mo Lee.
```

템플릿 리터럴은 ${}로 표현식을 감싸 삽입한다. 이때 표현식의 평가 결과가 문자열이 아니어도 강제로 문자열로 변환된다.

```javascript
var first = "Ung-mo";
var last = "Lee";

console.log(`My name is ${first} ${last}.`); // My name is Ung-mo Lee.
```

표현식 삽입은 템플릿 리터럴 내에서 사용해야 한다(``)

---

## 6.4 불리언 타입

논리적 참true, 거짓false 값을 나타낸다.

조건문에서 자주 사용한다.

---

## 6.5 undefined 타입

변수 선언 후 값을 할당하지 않을 변수를 참조하면 undefined가 반환된다.

자바스크립트 엔진이 변수를 초기화할 때 사용하므로 개발자가 의도적으로 변수에 할당하는 것은 권장되지 않는다.

변수에 값이 없다는 것을 명시하고 싶을 경우엔 undefined 가 아닌 null 을 할당한다.

- 선언declaration과 정의definition  
  자바스크립트의 경우 변수를 선언하면 암묵적으로 정의가 이루어지므로 그 구분이 모호하다.  
   ECMAScript 사양에서 변수는 '선언한다'고 표현하고 함수는 '정의한다'로 표현한다.

---

## 6.6 null 타입

변수에 값이 없다는 것을 의도적으로 명시할 때 사용.
이전 할당값에 대한 참조를 명시적으로 제거하는 것.

함수가 유효한 값을 반환할 수 없는 경우, null을 반환하기도 한다.

```html
<!DOCTYPE html>
<html>
  <body>
    <script>
      var element = document.querySelector(".myClass");

      // HTML 문서에 myClass 클래스를 갖는 요소가 없다면, null 을 반환한다.
      console.log(element); // null
    </script>
  </body>
</html>
```

---

## 6.7 심벌 타입

ES6에서 추가된 7번째 타입.  
다른 값과 중복되지 않는 유일무이한 값으로, 객체의 유일한 프로퍼티 키를 만들기 위해 사용한다.

Symbol 함수를 호출해 생성하고, 외부에 노출되지 않는다.

```javascript
//심벌 값 생성
var key = Symbol("key");
console.log(typeof key); // symbol

//객체 생성
var obj = {};

//이름이 충돌한 위험이 없는 심벌을 프로퍼티 키로 사용
obj[key] = "value";
console.log(obj[key]); // value
```

---

## 6.8 객체 타입

원시 타입이 아닌 이외의 값을 모두 객체 타입이라 한다.

11장 "원시 값과 객체의 비교"

---

## 6.9 데이터 타입의 필요성

### 6.9.1 데이터 타입에 의한 메모리 공간의 확보와 참조

1. 할당 : 변수에 할당되는 값의 데이터 타입에 따라 확보해야 할 메모리 공간의 크기가 결정된다.
2. 참조 : 값을 참조하는 경우에도 변수에 할당된 데이터 타입에 따라 메모리 공간에 지정된 값을 읽어 들인다.

- 데이터 타입에 따라 확보되는 공간의 크기  
   ECMAScript 사양은 문자열과 숫타 타입 외 데이터 타입의 크기를 명시적으로 규정하고 있진 않음.  
   다만 숫자타입은 배정밀도 64비트 부동소수점 형식을 사용하고, 이 형식은 8바이트로 숫자를 표현한다.

### 6.9.2 데이터 타입에 의한 값의 해석

해석 또한 할당된 값의 데이터 타입을 바탕으로 해석한다.  
예를 들어 메모리에 저장된 값 0100 0001 을 숫자로 해석하면 65지만, 문자열로 해석하면 'A'이다. 이 경우 해당 값에 할당된 변수가 숫자 타입이라면 65로 해석하고, 변수가 문자열 타입이라면 'A'가 된다.

#### 데이터 타입이 필요한 이유 정리

- 값을 저장할 때 확보해야 하는 메모리 공간의 크기를 결정하기 위해
- 값을 참조할 때 한 번에 읽어 들여야 할 메모리 공간의 크기를 결정하기 위해
- 메모리에서 읽어 들인 2진수를 어떻게 해석할지 결정하기 위해

---

## 6.10 동적 타이핑

### 6.10.1 동적 타입 언어와 정적 타입 언어

- 정적 타입 언어
  변수 선언 시 데이터 타입을 사전에 선언해야 한다(명시적 타입 선언).  
   변수의 타입을 변경할 수 없고, 선언에 맞는 값만 할당할 수 있다.  
   컴파일 시점에 타입 체크를 수행한다.  
   이를 통해 런타임에 발생할 수 있는 에러를 줄인다.  
   대표적인 언어 예) C, C++, java, Kotlin, Go 등

- 동적 타입 언어
  변수 선언할 때 타입을 선언하지 않는다.  
   다만 자바스크립트의 경우에 var, let, const 키워드를 이용해 변수를 선언한다.  
   어떠한 데이터 타입의 값이라도 변수에 자유롭게 할당할 수 있다.

- 자바스크립트의 동적 타이핑  
   선언이 아닌 할당에 의해 타입이 결정(추론inference)되고,  
   재할당에 의해 변수 타입은 동적으로 변화 가능하다.  
   이러한 특징을 동적 타이핑 이라고 한다.

### 6.10.2 동적 타입 언어와 변수

동적 타입 언어에서 변수 값과 타입은 언제든 변경될 수 있다.  
더욱이 자바스크립트는 개발자의 의도와 상관없이 암묵적으로 타입이 자동 변환되기도 한다.  
결국, 유연성은 높지만 신뢰성은 떨어진다.

따라서 변수를 사용할 때 다음 주의 사항이 존재한다.

1. 변수는 필요한 경우 제한적으로 사용한다.
2. 변수의 유효 범위(스코프)는 최대한 좁게 만든다.
3. 전역 변수 사용은 최소화 한다.
4. 변수보다 상수를 사용해 값의 변경을 억제한다.
5. 변수명은 그 목적이나 의미를 파악할 수 있게 네이밍한다.

---
