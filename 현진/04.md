# 04장. 변수

## 4.1 변수랑 무엇인가? 왜 필요한가?

변수란 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름

프로그래밍 언어에서 값을 저장하고 참조하는 매커니즘, 값의 위치를 가라키는 상징.

- 변수에 여러 개의 값을 저장하는 방법

> 변수는 기본적으로 하나의 값을 저장하기 위한 매커니즘, 여러 개의 값을 저장하려면 여러 개의 변수를 사용해야 하지만 배열이나 객체같은 자료구조를 사용하면 여러 개의 값을 그룹화해 하나의 값처럼 사용 가능

```javascript
//변수는 하나의 값을 저장하기 위한 수단이다.
var userId = 1;
var userName = "Lee";

//객체나 배열같은 자료구조를 사용하면 여러 개의 값을 하나로 그룹화해서 하나의 값처럼 사용 가능하다.
var user = { id: 1, name: "Lee" };
var users = [
  { id: 1, name: "Lee" },
  { id: 2, name: "Kim" },
];
```

- 변수이름 혹은 변수명 : 메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름
- 변수 값 : 변수에 저장된 값
- 할당assignment(대입, 저장) : 변수에 값을 저장하는 행위
- 참조reference : 변수에 저장된 값을 읽어 들이는 행위

---

## 4.2 식별자

- 식별자identifier: 값이 아닌 메모리 주소를 기억하고 있는 식별 가능한 고유의 이름.

식별자는 변수에만 국한되지 않으며 변수, 함수, 클래스 등의 이름 모두 식별자다.  
메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름은 모두 식별자라고 부른다.

변수, 함수, 클래스 등의 식별자는 네이밍 규칙을 준수해야 하며, 선언declaration에 의해 자바스크립트 엔진에 식별자의 존재를 알린다.

---

## 4.3 변수 선언

- 변수 선언variable declaration : 메모리 공간을 확보하고 변수명과 메모리 주소를 연결해서 값을 저장할 수 있도록 준비하는 과정.

변수 사용시 반드시 필요하다.

선언되지 않은 식별자에 접근하면, ReferenceError(참조 에러)가 발생한다.

var, let, const 키워드를 사용한다.

이때 var는 함수 레벨 스코프를 지원한다. 이로 인해 의도치 않게 전역 변수로 선언되는 부작용이 발생하기도 한다.  
let, const는 ES6에서 도입한 키워드. 블록 레벨 스코프 지원.

- 자바스크립트 변수 선언의 2단계

  - 선언 단계 : 변수 이름을 등록, 변수의 존재를 알림.
  - 초기화 단계 : 메모리 공간 확보, undefined를 할당해 초기화.(자바스크립트의 특징)

- var 키워드
  ```javascript
  var score; // 변수 선언(변수 선언문)
  ```
  선언과 초기화 단계가 동시 진행.  
   예시의 score 는 값을 할당하지 않은 상태에서도 undefined 값을 갖는다.

초기화 단계를 거치지 않으면 이전 다른 애플리케이션이 사용했던 값이 남아있을 수 있다.  
이러한 값을 쓰레기 값garbage value이라 한다.

따라서 값을 할당하지 않은 상태에서 곧바로 변수 값을 참조하면 쓰레기 값이 나올 수 있다.

---

## 4.4 변수 선언의 실행 시점과 변수 호이스팅

```javascript
console.log(score); // undefined
var score; // 변수 선언문
```

함수 선언문보다 변수를 참조하는 코드인 console.log(score); 가 앞에 위치하지만,  
참조에러가 발생하지 않고 undefined가 출력된다.

이는 변수 선언이 소스코드가 순차적으로 실행되는 런타임 이전 단계에서 먼저 실행되기 때문.

마치 변수 선언문이 코드의 선두로 끌어올려진 것처럼 동작하는  
자바스크립트 고유의 이 특징을 **변수 호이스팅variable hoisting**이라 한다.

---

## 4.5 값의 할당

```javascript
var score; // 변수 선언
score = 80; // 변수 할당
var score = 80; // 변수 선언과 값의 할당
```

변수 선언과 값의 할당을 나누거나 한 줄로 작성해도 자바스크립트는 2개의 문으로 나누어 각각 진행한다.

때문에  
변수 선언은 런타임 이전에 먼저 실행되고  
값의 할당은 런타임 시 실행된다.

```javascript
console.log(score); // undefined

var score; // 변수 선언
score = 80; // 변수 할당

console.log(score); // 80
```

```javascript
console.log(score); // undefined

var score = 80; // 변수 선언과 값 할당

console.log(score); // 80
```

```javascript
console.log(score); // undefined

score = 80; // 변수 할당
var score; // 변수 선언

console.log(score); // 80
// 변수 할당을 먼저 작성한 경우에도 변수 선언은 호이스팅된다.
```

---

## 4.6 값의 재할당

- 재할당 : 이미 값이 할당된 변수에 새로운 값을 할당하는 행위.

이전 값의 메모리 공간에 새 값을 재할당하는 것이 아닌,  
새로운 메모리 공간을 확보하고 새 값을 저장한다.

- 가비지 콜렉터

  > 어떤 식별자도 참조하지 않는 메모리 공간은 주기적 검사를 통해 해제하는 기능.

      메모리 누수 방지.

- 언매니지드 언어와 매니지드 언어
  > - 매니지드 언어 : 개발자 주도의 메모리 제어가 가능. 개발자의 역량에 따라 최적성능 확보도 가능하지만 치명적 오류도 생산 가능하다.
  > - 매니지드 언어 : 메모리 할당 및 해제 관리를 언어 차원에서 담당. 일정한 생산성 확보는 가능하지만 성능 면에서는 손실이 발생한다.
      자바스크립트가 매니지드 언어에 해당한다.

---

## 4.7 식별자 네이밍 규칙

- 특수문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호($) 포함 가능.

- 식별자의 시작 : 특수문자를 제외한 문자, 언더스코어(\_), 달러 기호($)로 시작해야함.  
   숫자로 시작하는 것은 허용되지 않는다.

- 예약어는 식별자 사용 금지.
  > 예약어 : 프로그래밍 언어에서 사용되고 있거나 사용될 예정인 단어.

SyntaxError가 발생하는 예시

```javascript
var first-name; // - 의 사용
var 1st; // 숫자로 시작
var this; //예약어 사용
```

- 네이밍 컨벤션
  > 가독성을 높이기 위해 규정한 명명 규칙.  
  >  자바스크립트에서는 일반적으로 변수명, 함수명엔 카멜 케이스.  
  >  생성자 함수, 클래스명에는 파스칼 케이스를 사용한다.

```javascript
// 카멜 케이스(camelCase)
var firstName;

// 스네이크 케이스(snake_case)
var first_name;

// 파스칼 케이스(PascalCase)
var FirstName;

//헝가리언 케이스(typeHangarianCase)
var strFirstName; // type + identifier
var $elem = document.getElementById("myId"); // DOM 노드
var observable$ = fromEvent(document, "click"); // RxJS 옵저버블
```

---
